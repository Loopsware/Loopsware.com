---
//* Layout
import Layout from './Layout.astro';
import NavBar from './NavBar.astro';
import Footer from './Footer.astro';

export function getStaticPaths() {
  return [
    {params: {title: 'medizona'}},
    {params: {title: 'kluu'}},
    {params: {title: 'arriba'}},
    {params: {title: 'boletomovil'}},
    {params: {title: 'poetical'}},
  ];
}

const {frontmatter} = Astro.props;
---

<Layout title={`Loopsware | ${frontmatter?.business}`}>
    <NavBar lang={frontmatter?.language === "en" ? "en" : "es"} />
    <div class="flex flex-col lg:flex-row px-4 md:px-8 lg:px-16 mt-20 mb-8 lg:mt-10 lg:mb-0">
    <main transition:name="hero"  class="flex flex-col w-full lg:w-9/12">
        <div class="flex flex-col">
          <div class="border-4 border-gray-200 rounded-2xl">
            <img class="h-48 md:h-auto rounded-2xl" src={`../../public/${frontmatter.image.url}`} alt=`${frontmatter.image.alt}` />
          </div>
        </div>
    </main>
    <aside class="flex flex-col w-full lg:w-3/12 lg:pl-8 mt-4 lg:mt-0">
      <p style={{"font-family": "Telegraf", "font-style": "bold"}} class="text-3xl md:text-4xl font-bold">{frontmatter?.business}</p>
      <div class="flex justify-between lg:h-3/4 lg:flex-col my-4 lg:my-0">
      <div class="flex flex-col">
        <p style={{"font-family": "Telegraf", "font-style": "bold"}} class="text-lg md:text-xl font-bold">{frontmatter?.language === "en" ? "Services" : "Servicios"}</p>
        <ul>
          <li>
            <p style={{"font-family": "Telegraf", "font-style": "medium"}} class="text-md md:text-lg">{frontmatter?.services[0]}</p>
          </li>
          <li>
            <p style={{"font-family": "Telegraf", "font-style": "medium"}} class="text-md md:text-lg">{frontmatter?.services[1]}</p>
          </li>
          <li>
            <p style={{"font-family": "Telegraf", "font-style": "medium"}} class="text-md md:text-lg">{frontmatter?.services[2]}</p>
          </li>
        </ul>
      </div>
      <div class="flex flex-col">
        <p style={{"font-family": "Telegraf", "font-style": "bold"}} class="text-lg md:text-xl font-bold">{frontmatter?.language === "en" ? "Platforms" : "Plataformas"}</p>
        <ul>
          <li>
            <p style={{"font-family": "Telegraf", "font-style": "medium"}} class="text-md md:text-lg">{frontmatter?.platforms[0]}</p>
          </li>
          <li>
            <p style={{"font-family": "Telegraf", "font-style": "medium"}} class="text-md md:text-lg">{frontmatter?.platforms[1]}</p>
          </li>
          <li>
            <p style={{"font-family": "Telegraf", "font-style": "medium"}} class="text-md md:text-lg">{frontmatter?.platforms[2]}</p>
          </li>
        </ul>
      </div>
      <div class="flex flex-col">
        <p style={{"font-family": "Telegraf", "font-style": "bold"}} class="text-lg md:text-xl font-bold">{frontmatter?.language === "en" ? "Technologies" : "Tecnologías"}</p>
        <ul>
          <li>
            <p style={{"font-family": "Telegraf", "font-style": "medium"}} class="text-md md:text-lg">{frontmatter?.technologies[0]}</p>
          </li>
          <li>
            <p style={{"font-family": "Telegraf", "font-style": "medium"}} class="text-md md:text-lg">{frontmatter?.technologies[1]}</p>
          </li>
          <li>
            <p style={{"font-family": "Telegraf", "font-style": "medium"}} class="text-md md:text-lg">{frontmatter?.technologies[2]}</p>
          </li>
        </ul>
      </div>
      </div>
      <div class="flex items-center lg:items-start lg:flex-col">
        <a href=`${frontmatter.links[0]}` class="my-2">
          <img class="w-32" src="../../../public/donwload_appstore.png" alt="app store banner" />
        </a>
        <a href=`${frontmatter.links[1]}` class="ml-3 lg:ml-0">
          <img class="w-32 my-1" src="../../../public/google_play_banner.webp" alt="google play store banner" />
        </a>
      </div>
    </aside>
    </div>
    <div class="lg:w-9/12 px-4 md:px-8 lg:px-16">
      <div class="lg:my-8 mb-16">
        <h2 style={{"font-family": "Telegraf", "font-style": "bold"}} class="text-3xl md:text-4xl font-bold">{frontmatter?.title}</h2>
        <slot />
      </div>
      <div class="w-full md:w-7/12 xl:w-6/12 border-3 border-gray-200 rounded-2xl px-6 md:px-8 py-4 my-16">
      <div class="flex justify-between md:items-center">
        <div class="flex mb-6">
          <div class="h-5 md:bg-lime-200">
            <h3
              style={{ "font-family": "Telegraf", "font-style": "medium" }}
              class="text-2xl font-black lg:text-center md:translate-x-1 md:translate-y-1"
            >
            {frontmatter?.language === "en" ? "Ready to get started?" : "¿Listo para comenzar?"}
            </h3>
          </div>
        </div>
        <img
          class="w-20 h-20 translate-x-10 -translate-y-10 md:translate-x-14 md:-translate-y-8"
          src="../../public/energy_drink_icon.webp"
          alt="energy drink icon"
        />
      </div>
      <p
        style={{ "font-family": "Inter", "font-style": "medium" }}
        class="text-md lg:text-center mb-4"
      >
        {frontmatter?.language === "en" ? "You can book an intro 15min call for free" : "Puedes reservar una llamada introductoria de 15 minutos gratis"}
        {frontmatter?.language === "en" ? "Pitch your idea, ask any question or just talk" : "Presenta tu idea, haz cualquier pregunta." }
      </p>
      <div class="flex justify-center">
        <a
          href="https://cal.com/oliverloops/15min"
          class="items-center justify-center h-12 md:h-14 w-4/5 md:w-3/5 bg-stone-900 rounded-full my-2"
          target="_blank"
        >
          <p
            style={{ "font-family": "Telegraf", "font-style": "bold" }}
            class="text-white text-center font-bold px-4 pt-3 md:pt-4"
          >
          {frontmatter?.language === "en" ? "Book a call (it's free)" :  "Reservar llamada gratuita" }
          </p>
        </a>
      </div>
    </div>
      <a style={{"font-family": "Telegraf", "font-style": "medium"}} href=`${frontmatter?.language === "en" ? "/#work" : "/es/#work"}` class="md:text-lg text-blue-500 font-semibold" >
        &larr; {frontmatter?.language === "en" ? "Go Back" :  "Volver" }
      </a>      
    </div>
  <Footer />
</Layout>

<script type="module">
  import anime from 'https://cdn.skypack.dev/animejs';
  const showcaseSection = document.querySelector('.showcase-section');
  const stackSection = document.querySelector('.stack-section');

  const observer = new IntersectionObserver(function(entries) {
    entries.forEach(function(entry) {
        if (entry.isIntersecting) {
            anime({
                targets: entry.target,
                opacity: [0, 1], // Fade the section in
                translateY: [250, 0], // Move the section up
                duration: 2000,
				delay: entry.target === showcaseSection ? 0 : 500,
                easing: 'easeOutExpo' // Use an exponential easing function
            });
            observer.unobserve(entry.target);
        }
    });
}, {
    rootMargin: '-5% 0px', // Trigger when the top of the screen is halfway to the section
});

observer.observe(showcaseSection);
observer.observe(stackSection);
</script>